<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-reverse-engineering PUBLIC
    "-//Hibernate/Hibernate Reverse Engineering DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-reverse-engineering-3.0.dtd">

<hibernate-reverse-engineering>
    <!-- Include all tables from the public schema -->
    <schema-selection match-schema="public"/>
    
    <!-- Table mappings with custom configurations -->
    <table-filter match-name="users" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="brands" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="categories" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="items" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="marketplace_listings" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="orders" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="order_items" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="promotions" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="user_follows" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="live_streams" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="verification_tokens" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="user_addresses" package="org.greenloop.circularfashion.entity"/>
    <table-filter match-name="sustainability_metrics" package="org.greenloop.circularfashion.entity"/>
    
    <!-- Custom type mappings -->
    <type-mapping>
        <sql-type jdbc-type="jsonb" hibernate-type="io.hypersistence.utils.hibernate.type.json.JsonType"/>
        <sql-type jdbc-type="json" hibernate-type="io.hypersistence.utils.hibernate.type.json.JsonType"/>
    </type-mapping>
    
    <!-- Custom column mappings -->
    <table name="users">
        <column name="user_id" property="userId"/>
        <column name="email_verified" property="emailVerified"/>
        <column name="phone_verified" property="phoneVerified"/>
        <column name="is_verified" property="isVerified"/>
        <column name="is_active" property="isActive"/>
        <column name="is_banned" property="isBanned"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="items">
        <column name="item_id" property="itemId"/>
        <column name="item_code" property="itemCode"/>
        <column name="category_id" property="categoryId"/>
        <column name="brand_id" property="brandId"/>
        <column name="owner_id" property="ownerId"/>
        <column name="current_holder_id" property="currentHolderId"/>
        <column name="condition_rating" property="conditionRating"/>
        <column name="condition_description" property="conditionDescription"/>
        <column name="purchase_date" property="purchaseDate"/>
        <column name="original_price" property="originalPrice"/>
        <column name="current_status" property="currentStatus"/>
        <column name="material_composition" property="materialComposition"/>
        <column name="care_instructions" property="careInstructions"/>
        <column name="sustainability_metrics" property="sustainabilityMetrics"/>
        <column name="rfid_tag" property="rfidTag"/>
        <column name="qr_code" property="qrCode"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="marketplace_listings">
        <column name="listing_id" property="listingId"/>
        <column name="item_id" property="itemId"/>
        <column name="seller_id" property="sellerId"/>
        <column name="listing_type" property="listingType"/>
        <column name="rental_price_per_day" property="rentalPricePerDay"/>
        <column name="created_at" property="createdAt"/>
        <column name="expires_at" property="expiresAt"/>
    </table>
    
    <table name="orders">
        <column name="order_id" property="orderId"/>
        <column name="order_number" property="orderNumber"/>
        <column name="user_id" property="userId"/>
        <column name="total_amount" property="totalAmount"/>
        <column name="payment_status" property="paymentStatus"/>
        <column name="payment_method" property="paymentMethod"/>
        <column name="payment_reference" property="paymentReference"/>
        <column name="shipping_address" property="shippingAddress"/>
        <column name="billing_address" property="billingAddress"/>
        <column name="shipped_at" property="shippedAt"/>
        <column name="delivered_at" property="deliveredAt"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="order_items">
        <column name="order_item_id" property="orderItemId"/>
        <column name="order_id" property="orderId"/>
        <column name="item_id" property="itemId"/>
        <column name="listing_id" property="listingId"/>
        <column name="unit_price" property="unitPrice"/>
        <column name="total_price" property="totalPrice"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="promotions">
        <column name="promotion_id" property="promotionId"/>
        <column name="promotion_code" property="promotionCode"/>
        <column name="discount_value" property="discountValue"/>
        <column name="minimum_order_amount" property="minimumOrderAmount"/>
        <column name="maximum_discount_amount" property="maximumDiscountAmount"/>
        <column name="usage_limit" property="usageLimit"/>
        <column name="used_count" property="usedCount"/>
        <column name="start_date" property="startDate"/>
        <column name="end_date" property="endDate"/>
        <column name="is_active" property="isActive"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="user_follows">
        <column name="follow_id" property="followId"/>
        <column name="follower_id" property="followerId"/>
        <column name="followed_id" property="followedId"/>
        <column name="is_mutual" property="isMutual"/>
        <column name="created_at" property="createdAt"/>
    </table>
    
    <table name="live_streams">
        <column name="stream_id" property="streamId"/>
        <column name="user_id" property="userId"/>
        <column name="stream_key" property="streamKey"/>
        <column name="thumbnail_url" property="thumbnailUrl"/>
        <column name="stream_url" property="streamUrl"/>
        <column name="viewer_count" property="viewerCount"/>
        <column name="scheduled_at" property="scheduledAt"/>
        <column name="started_at" property="startedAt"/>
        <column name="ended_at" property="endedAt"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="verification_tokens">
        <column name="token_id" property="tokenId"/>
        <column name="user_id" property="userId"/>
        <column name="token_type" property="tokenType"/>
        <column name="expiry_date" property="expiryDate"/>
        <column name="is_used" property="isUsed"/>
        <column name="created_at" property="createdAt"/>
    </table>
    
    <table name="user_addresses">
        <column name="address_id" property="addressId"/>
        <column name="user_id" property="userId"/>
        <column name="address_type" property="addressType"/>
        <column name="is_default" property="isDefault"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
    
    <table name="sustainability_metrics">
        <column name="metric_id" property="metricId"/>
        <column name="item_id" property="itemId"/>
        <column name="carbon_footprint" property="carbonFootprint"/>
        <column name="water_usage" property="waterUsage"/>
        <column name="energy_consumption" property="energyConsumption"/>
        <column name="recyclability_score" property="recyclabilityScore"/>
        <column name="created_at" property="createdAt"/>
        <column name="updated_at" property="updatedAt"/>
    </table>
</hibernate-reverse-engineering>
